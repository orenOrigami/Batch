<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Origami.ms Batch Search</title>
</head>
<body>
    <h1>Search for a Batch</h1>
    <input type="text" id="batchSearchInput" placeholder="Enter batch name or ID" />
    <button id="searchButton">Search</button>

    <div id="resultContainer"></div>

    <script>
        document.getElementById('searchButton').addEventListener('click', async function() {
            const searchTerm = document.getElementById('batchSearchInput').value;
            if (searchTerm.trim() === '') {
                alert('Please enter a search term');
                return;
            }

            try {
                const response = await fetch('https://api.origami.ms/v1/batches', {
                    method: 'GET',
                    headers: {
                        'Authorization': 'Bearer YOUR_ORIGAMI_API_TOKEN',  // Replace with your API token
                    },
                });

                const data = await response.json();
                const batch = data.find(batch => batch.name.includes(searchTerm) || batch.id.includes(searchTerm));

                if (batch) {
                    displayResult(batch);
                } else {
                    document.getElementById('resultContainer').innerHTML = 'No batches found.';
                }
            } catch (error) {
                console.error('Error fetching batches:', error);
                document.getElementById('resultContainer').innerHTML = 'Error searching for batches.';
            }
        });

        function displayResult(batch) {
            const resultContainer = document.getElementById('resultContainer');
            resultContainer.innerHTML = `
                <p>Batch Found: ${batch.name}</p>
                <button onclick="window.location.href='https://origami.ms/batch/${batch.id}'">Go to Batch</button>
            `;
        }
    </script>
</body>
</html>
